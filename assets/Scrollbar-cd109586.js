import{j as s}from"./jsx-runtime-1a9d9a93.js";import{r as o}from"./index-8b3efc3f.js";import{c}from"./clsx-0839fdbe.js";const $=({children:L,className:A,controlId:H,dataTestId:B="zep-scrollbar",theme:z="dark",scrollOrientation:i="both"})=>{const n=o.useRef(null),m=o.useRef(null),b=o.useRef(null),y=o.useRef(null),X=o.useRef(null),Y=o.useRef(null),[u,R]=o.useState(20),[p,C]=o.useState(20),[a,E]=o.useState(!1),[d,W]=o.useState(!1),[O,F]=o.useState(0),[U,G]=o.useState(0),[J,K]=o.useState(0),[Q,Z]=o.useState(0),[S,N]=o.useState(!1),[M,j]=o.useState(!1),ee=o.useMemo(()=>i!=="vertical"&&u!==0,[u,i]),te=o.useMemo(()=>i!=="horizontal"&&p!==0,[p,i]),k={light:{thumb:"zep-bg-greyscale-500",track:"zep-bg-greyscale-200"},dark:{thumb:"zep-bg-primary-default",track:"zep-bg-greyscale-400"}},re=()=>{if(n.current){if(m.current&&n.current){const{clientWidth:e}=m.current,{clientWidth:r,scrollWidth:t}=n.current,l=r>=t;R(l?0:Math.max(r/t*e,20))}if(b.current){const{clientHeight:e}=b.current,{clientHeight:r,scrollHeight:t}=n.current,l=r>=t;C(l?0:Math.max(r/t*e,20))}}},P=()=>{if(!n.current||!m.current||!X.current||!y.current||!b.current)return;const{scrollLeft:e,scrollWidth:r,scrollHeight:t,scrollTop:l}=n.current,{clientWidth:x}=m.current,{clientHeight:T}=b.current;let h=e/r*x,f=l/t*T;h=Math.min(h,x-u),f=Math.min(f,T-p);const g=X.current,v=y.current;requestAnimationFrame(()=>{g.style.left=`${h}px`,v.style.top=`${f}px`})};o.useEffect(()=>{var e;if(n.current){const r=n.current;return Y.current=new ResizeObserver(()=>{re()}),(e=Y.current)==null||e.observe(r),r.addEventListener("scroll",P),()=>{var t;(t=Y.current)==null||t.unobserve(r),r.removeEventListener("scroll",P)}}},[]);const ne=e=>{e.preventDefault(),e.stopPropagation(),F(e.clientX),n.current&&K(n.current.scrollLeft),W(!0)},oe=e=>{e.preventDefault(),e.stopPropagation(),G(e.clientY),n.current&&Z(n.current.scrollTop),E(!0)},w=e=>{e.preventDefault(),e.stopPropagation(),a&&E(!1),d&&W(!1)},D=e=>{if(n.current){if(e.preventDefault(),e.stopPropagation(),d){const{scrollWidth:r,clientWidth:t}=n.current,l=(e.clientX-O)*(t/u);n.current.scrollLeft=Math.min(J+l,r-t)}if(a){const{scrollHeight:r,clientHeight:t}=n.current,l=(e.clientY-U)*(t/p);n.current.scrollTop=Math.min(Q+l,r-t)}}},V=e=>{e.preventDefault(),N(!0)},I=e=>{e.preventDefault(),S&&N(!1)},_=e=>{e.preventDefault(),j(!0)},q=e=>{e.preventDefault(),M&&j(!1)};o.useEffect(()=>(document.addEventListener("mousemove",D),document.addEventListener("mouseup",w),()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",w)}),[D,w]);const le=e=>{e.preventDefault(),e.stopPropagation();const{current:r}=m,{current:t}=n;if(r&&t){const{clientX:l}=e,h=e.target.getBoundingClientRect().left,f=-(u/2),g=(l-h+f)/r.clientWidth,v=Math.floor(g*t.scrollWidth);t.scrollTo({left:v,behavior:"smooth"})}},se=e=>{e.preventDefault(),e.stopPropagation();const{current:r}=b,{current:t}=n;if(t&&r){const{clientY:l}=e,h=e.target.getBoundingClientRect().top,f=-(p/2),g=(l-h+f)/r.clientHeight,v=Math.floor(g*t.scrollHeight);t.scrollTo({top:v,behavior:"smooth"})}};return s.jsxs("div",{className:c("zep-relative","zep-w-full"),"data-testid":B,children:[s.jsxs("div",{className:"zep-flex",children:[s.jsx("div",{className:c("zep-scrollable-content","zep-w-full",A,{"zep-mb-2":ee,"zep-mr-2":te}),id:H,ref:n,children:L}),s.jsx("div",{className:c("zep-pl-2","zep-vertical-scrollbar",{"zep-hidden":p===0||i==="horizontal"}),"data-testid":"vertical-scrollbar",children:s.jsxs("div",{className:c("zep-block zep-relative zep-h-full",a||M?"!zep-w-0.75":"!zep-w-0.5"),"aria-controls":H,role:"scrollbar",children:[s.jsx("div",{className:c("zep-top-0 zep-absolute zep-bottom-0 zep-h-full zep-rounded-[100px]",a||M?"!zep-w-0.75":"!zep-w-0.5",k[z].track),ref:b,onClick:se,onMouseEnter:_,onMouseLeave:q,style:{cursor:a?"grabbing":void 0}}),s.jsx("div",{className:c("zep-absolute zep-rounded-[100px]",a||M?"!zep-w-0.75":"!zep-w-0.5",k[z].thumb),ref:y,onMouseDown:oe,onMouseEnter:_,onMouseLeave:q,style:{height:`${p}px`,cursor:a?"grabbing":"grab"}})]})})]}),s.jsx("div",{className:c("zep-horizontal-scrollbar",{"zep-hidden":u===0||i==="vertical","zep-pr-0.5":i==="both"&&!a,"zep-pr-0.75":i==="both"&&a}),"data-testid":"horizontal-scrollbar",children:s.jsxs("div",{className:c("zep-block zep-relative zep-w-full",d||S?"!zep-h-0.75":"!zep-h-0.5"),"aria-controls":H,role:"scrollbar",children:[s.jsx("div",{className:c("zep-absolute zep-w-full zep-rounded-[100px]",d||S?"!zep-h-0.75":"!zep-h-0.5",k[z].track),ref:m,onClick:le,onMouseEnter:V,onMouseLeave:I,style:{cursor:d?"grabbing":void 0}}),s.jsx("div",{className:c("zep-absolute zep-rounded-[100px]",d||S?"!zep-h-0.75":"!zep-h-0.5",k[z].thumb),ref:X,onMouseDown:ne,onMouseEnter:V,onMouseLeave:I,style:{width:`${u}px`,cursor:d?"grabbing":"grab"}})]})})]})};try{$.displayName="Scrollbar",$.__docgenInfo={description:"",displayName:"Scrollbar",props:{controlId:{defaultValue:null,description:"",name:"controlId",required:!0,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},dataTestId:{defaultValue:{value:"zep-scrollbar"},description:"",name:"dataTestId",required:!1,type:{name:"string"}},theme:{defaultValue:{value:"dark"},description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},scrollOrientation:{defaultValue:{value:"both"},description:"",name:"scrollOrientation",required:!1,type:{name:"enum",value:[{value:'"both"'},{value:'"horizontal"'},{value:'"vertical"'}]}}}}}catch{}export{$ as S};
